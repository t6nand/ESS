/**
*	Created By: Tapan Sharma
*	Matrikulation Number: 03712841
*   
*   Assignment: Implementation of Morse Code using LED1 on Pin P1.1 to send Code Word "I CAN MORSE"   repeatedly when XMC4500 is ON with a 5s pause between each transmission.
*/

/*********************************************************************************************************************************************************************************************
																							HEADER FILES																															
*********************************************************************************************************************************************************************************************/

#include "morse_definition.h"
#include "timer_config.h"

/*********************************************************************************************************************************************************************************************
														STANDARD DEFINITIONS, MACROS, DECLARATIONS AND GLOBAL CONSTANTS														
*********************************************************************************************************************************************************************************************/

const uint16_t pauseDuration = 5000;
 
/*********************************************************************************************************************************************************************************************
																							FUNCTION DEFINITIONS														
*********************************************************************************************************************************************************************************************/

int main(void) {
	
	// 1. Initialise System Clock.
	initSysTick();
	
	// 2. Initialise GPIO
	initGPIO();
	
	// 3. Program Logic
	while(1) {
		transmitMessage();
		int delayNextSequenceBy = pauseDuration - dotDuration;
		delay(delayNextSequenceBy);
	}
  return 0;
}